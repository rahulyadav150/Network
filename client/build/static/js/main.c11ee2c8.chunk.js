(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{10:function(e,t,a){"use strict";a.d(t,"f",(function(){return j})),a.d(t,"a",(function(){return b})),a.d(t,"d",(function(){return p})),a.d(t,"j",(function(){return m})),a.d(t,"e",(function(){return f})),a.d(t,"g",(function(){return O})),a.d(t,"c",(function(){return h})),a.d(t,"b",(function(){return x})),a.d(t,"h",(function(){return v})),a.d(t,"i",(function(){return g}));var n=a(3),r=a(9),c=a(2),s=a.n(c),o=a(6),i=a(7),l=a(8),u=a(32),d=a(14),j={createPost:"CREATE_POST",loading:"LOADING_POST",getPosts:"GET_POSTS",updatePost:"UPDATE_POST",likePost:"LIKE_POST",unLikePost:"UNLIKE_POST",GetPost:"GET_POST",deletePost:"DELETE_POST"},b=function(e,t,a){return function(){var n=Object(o.a)(s.a.mark((function n(r){var c,o;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,c=[],r({type:i.a.Alert,payload:{loading:!0}}),!(e.length>0)){n.next=7;break}return n.next=6,Object(u.b)(e);case 6:c=n.sent;case 7:return r({type:i.a.Alert,payload:{loading:!0}}),n.next=10,Object(l.d)("posts",{content:t,images:c},a.token);case 10:o=n.sent,r({type:j.createPost,payload:o.data.newPost}),r({type:i.a.Alert,payload:{loading:!1}}),n.next=18;break;case 15:n.prev=15,n.t0=n.catch(0),r({type:i.a.Alert,payload:{err:n.t0.response.data.msg}});case 18:case"end":return n.stop()}}),n,null,[[0,15]])})));return function(e){return n.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(o.a)(s.a.mark((function t(a){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:j.loading,payload:!0}),t.next=4,Object(l.b)("posts",e);case 4:n=t.sent,a({type:j.getPosts,payload:n.data}),a({type:j.loading,payload:!1}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:i.a.Alert,payload:{err:t.t0.response.data.msg}});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},m=function(e,t,a,n){return function(){var c=Object(o.a)(s.a.mark((function c(o){var d,b,p,m;return s.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(c.prev=0,d=[],b=e.filter((function(e){return!e.url})),p=e.filter((function(e){return e.url})),n.content!==t||0!==b.length||p.length!==n.images.length){c.next=6;break}return c.abrupt("return");case 6:if(o({type:i.a.Alert,payload:{loading:!0}}),!(b.length>0)){c.next=11;break}return c.next=10,Object(u.b)(b);case 10:d=c.sent;case 11:return d=[].concat(Object(r.a)(d),Object(r.a)(p)),c.next=14,Object(l.c)("post/".concat(n._id),{content:t,images:d},a.token);case 14:m=c.sent,o({type:j.updatePost,payload:m.data.newPost}),o({type:i.a.Alert,payload:{loading:!1}}),o({type:i.a.Alert,payload:{success:m.data.msg}}),c.next=23;break;case 20:c.prev=20,c.t0=c.catch(0),o({type:i.a.Alert,payload:{err:c.t0.response.data.msg}});case 23:case"end":return c.stop()}}),c,null,[[0,20]])})));return function(e){return c.apply(this,arguments)}}()},f=function(e){var t=e.post,a=e.Auth;return function(){var e=Object(o.a)(s.a.mark((function e(c){var o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=Object(n.a)(Object(n.a)({},t),{},{likes:[].concat(Object(r.a)(t.likes),[a.user])}),e.next=4,Object(l.c)("post/".concat(t._id,"/like"),null,a.token);case 4:c({type:j.updatePost,payload:o}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),c({type:i.a.Alert,payload:{err:e.t0.response.data.msg}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},O=function(e){var t=e.post,a=e.Auth;return function(){var e=Object(o.a)(s.a.mark((function e(r){var c,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=t.likes.filter((function(e){return e._id!==a.user._id})),o=Object(n.a)(Object(n.a)({},t),{},{likes:c}),e.next=5,Object(l.c)("post/".concat(t._id,"/unlike"),null,a.token);case 5:r({type:j.updatePost,payload:o}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),r({type:i.a.Alert,payload:{err:e.t0.response.data.msg}});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},h=function(e){var t=e.DetailPost,a=e.id,n=e.Auth;return function(){var e=Object(o.a)(s.a.mark((function e(r){var c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.every((function(e){return e._id!==a}))){e.next=11;break}return e.prev=1,e.next=4,Object(l.b)("post/".concat(a),n.token);case 4:c=e.sent,r({type:j.GetPost,payload:c.data.post}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),r({type:i.a.Alert,payload:{err:e.t0.response.data.msg}});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},x=function(e){var t=e.post,a=e.Auth;return function(){var e=Object(o.a)(s.a.mark((function e(n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t,a),n({type:j.deletePost,payload:t}),e.next=5,Object(l.a)("post/".concat(t._id),a.token);case 5:n({type:d.d.DeleteUserPost,payload:{_id:a.user._id,postId:t._id}}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n({type:i.a.Alert,payload:{err:e.t0.response.data.msg}});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},v=function(e){var t=e.post,a=e.Auth;return function(){var e=Object(o.a)(s.a.mark((function e(c){var o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(n.a)(Object(n.a)({},a.user),{},{saved:[].concat(Object(r.a)(a.user.saved),[t._id])}),e.prev=1,e.next=4,Object(l.c)("post/".concat(t._id,"/save"),null,a.token);case 4:c({type:i.a.Auth,payload:Object(n.a)(Object(n.a)({},a),{},{user:o})}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),c({type:i.a.Alert,payload:{err:e.t0.response.data.msg}});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},g=function(e){var t=e.post,a=e.Auth;return function(){var e=Object(o.a)(s.a.mark((function e(r){var c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(n.a)(Object(n.a)({},a.user),{},{saved:a.user.saved.filter((function(e){return e!==t._id}))}),e.prev=1,e.next=4,Object(l.c)("post/".concat(t._id,"/unSave"),null,a.token);case 4:r({type:i.a.Auth,payload:Object(n.a)(Object(n.a)({},a),{},{user:c})}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),r({type:i.a.Alert,payload:{err:e.t0.response.data.msg}});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()}},108:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(40),c=a.n(r),s=a(12),o=a(13),i=(a(80),a(41)),l=a(4),u=a(0);var d=function(){var e=Object(l.c)((function(e){return e})).Auth,t=Object(o.i)(),n=t.name,r=t.id,c="";return e.token&&(c=r?"".concat(n,"/[id]"):n),function(e){try{var t=a(85)("./".concat(e)).default;return Object(u.jsx)(t,{})}catch(n){return Object(u.jsx)(i.default,{})}}(c)},j=a(43);var b=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"loadSpinner w-100 h-100 position-fixed",children:Object(u.jsxs)("div",{className:"lds-ellipsis",children:[Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{})]})})})};var p=function(e){return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:" alert alert-".concat(e.status," alert-dismissible fade show text-centre"),style:{width:"300px",position:"fixed",top:"5px",right:"5px",zIndex:"50"},children:[Object(u.jsxs)("strong",{children:[e.msg," "]}),e.info,Object(u.jsx)("button",{onClick:e.handleShow,type:"button",class:"close","data-dismiss":"alert",children:"\xd7"})]})})};var m=function(){var e=Object(l.c)((function(e){return e})).Alert,t=Object(l.b)();function a(){return t({type:"ALERT",payload:{}})}return Object(u.jsxs)(u.Fragment,{children:[e.loading&&Object(u.jsx)(b,{}),e.success&&Object(u.jsx)(p,{status:"success",msg:"Success!",info:e.success,handleShow:a}),e.err&&Object(u.jsx)(p,{status:"danger",msg:"Error!",info:e.err,handleShow:a})]})},f=a(45),O=a(29),h=a(19);var x=function(){var e=Object(l.b)(),t=Object(o.h)().pathname,a=Object(l.c)((function(e){return e})),n=a.Auth,r=a.Theme;function c(e){if(e===t)return"active"}return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"menu",id:"navbarSupportedContent",children:Object(u.jsxs)("ul",{className:"navbar-nav flex-row",children:[[{label:"Home",icon:"home",path:"/"},{label:"Message",icon:"near_me",path:"/message"},{label:"Discover",icon:"explore",path:"/discover"},{label:"Notify",icon:"favorite",path:"/notify"}].map((function(e,t){return Object(u.jsx)("li",{className:"nav-item px-2 ".concat(c(e.path)),children:Object(u.jsx)(s.b,{className:"nav-link",to:e.path,children:Object(u.jsx)("span",{className:"material-icons",children:e.icon})})},t)})),Object(u.jsxs)("li",{className:"nav-item dropdown menu_avatar  ",children:[Object(u.jsx)("a",{className:"nav-link dropdown-toggle ",href:"/soisso",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:Object(u.jsx)(h.a,{src:n.user.avatar,size:"md"})}),Object(u.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:[Object(u.jsx)(s.b,{className:"dropdown-item",to:"/profile/".concat(n.user._id),children:"Profile"}),Object(u.jsx)("label",{htmlFor:"theme",className:"dropdown-item",onClick:function(){e({type:"THEME",payload:!r})},children:r?"Light mode":"Dark mode"}),Object(u.jsx)("div",{className:"dropdown-divider"}),Object(u.jsx)(s.b,{className:"dropdown-item",to:"/logout",onClick:function(){return e(Object(O.b)())},children:"Logout"})]})]})]})})})},v=a(2),g=a.n(v),y=a(6),N=a(5),w=a(8),k=a(25);var _=function(){var e=Object(n.useState)(""),t=Object(N.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),s=Object(N.a)(c,2),o=s[0],i=s[1],d=Object(n.useState)(!1),j=Object(N.a)(d,2),b=j[0],p=j[1],m=Object(l.c)((function(e){return e})).Auth,f=Object(l.b)();function O(){r(""),i([])}function h(){return(h=Object(y.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!a||!m.token){e.next=11;break}return p(!0),e.next=6,Object(w.b)("search?username=".concat(a),m.token);case 6:n=e.sent,i(n.data),p(!1),e.next=12;break;case 11:i([]);case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),p(!1),f({type:"ALERT",payload:{err:e.t0.response.data.msg}});case 18:case"end":return e.stop()}}),e,null,[[1,14]])})))).apply(this,arguments)}return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("form",{onSubmit:function(e){return h.apply(this,arguments)},className:"search_form",children:[Object(u.jsx)("input",{type:"text",name:"search",id:"search",value:a,onChange:function(e){return r(e.target.value)}}),Object(u.jsxs)("div",{className:"search_icon",style:{opacity:a?"0":"0.3"},children:[Object(u.jsx)("span",{className:"material-icons",children:"search"}),Object(u.jsx)("span",{children:"search"})]}),Object(u.jsx)("div",{className:"close_search ",onClick:O,style:{opacity:0===o.length?0:1},children:"\xd7"}),b&&Object(u.jsx)("img",{className:"loadImg",src:"https://i.gifer.com/ZZ5H.gif",alt:"loading...."}),Object(u.jsx)("div",{className:"users",children:a&&o.map((function(e){return Object(u.jsx)(k.a,{user:e,border:"border",handleClose:O},e._id)}))})]})})};var A=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"header bg-light",children:Object(u.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light justify-content-between ",children:[Object(u.jsx)(s.b,{className:"logo",to:"/",children:Object(u.jsx)("h1",{className:"navbar-brand text-uppercase",onClick:function(){return window.scrollTo(0,0)},children:"QNetwork"})}),Object(u.jsx)(_,{}),Object(u.jsx)(x,{})]})})})},S=a(44),P=a(3);var E=function(e){return localStorage.getItem("firstLogin")?Object(u.jsx)(o.b,Object(P.a)({},e)):Object(u.jsx)(o.a,{to:"/"})},F=a(9),C=a(7),L=a(10);var T=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e})),a=t.Auth,r=t.Theme,c=t.Status,s=Object(n.useState)(""),o=Object(N.a)(s,2),i=o[0],d=o[1],j=Object(n.useState)([]),b=Object(N.a)(j,2),p=b[0],m=b[1],f=function(){var t=Object(y.a)(g.a.mark((function t(n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),0!==p.length){t.next=3;break}return t.abrupt("return",e({type:C.a.Alert,payload:{err:"Please add an image"}}));case 3:c.onEdit?e(Object(L.j)(p,i,a,c)):e(Object(L.a)(p,i,a)),d(""),m([]),e({type:C.a.Status,payload:!1});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){c.onEdit&&(m(c.images),d(c.content))}),[c]),Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"status_modal",children:Object(u.jsxs)("form",{onSubmit:f,children:[Object(u.jsxs)("div",{className:"status_header",children:[Object(u.jsx)("h5",{children:"Create Post"}),Object(u.jsx)("span",{onClick:function(){return e({type:C.a.Status,payload:!1})},children:"\xd7"})]}),Object(u.jsxs)("div",{className:"status_body",children:[Object(u.jsx)("textarea",{className:"content",cols:"30",rows:"4",value:i,onChange:function(e){return d(e.target.value)},placeholder:"".concat(a.user.userName,", what are you thinkng ?")}),Object(u.jsx)("div",{className:"show_images",children:p.map((function(e,t){return Object(u.jsxs)("div",{className:"file_image",children:[Object(u.jsx)("img",{src:e.url?e.url:URL.createObjectURL(e),alt:"uploadImages",className:"image",style:{filter:r?"invert(1)":"invert(0)"}}),Object(u.jsx)("span",{className:"removeImage",onClick:function(){return function(e){var t=Object(F.a)(p);t.splice(e,1),console.log(p),m(t)}(t)},children:"\xd7"})]},t)}))}),Object(u.jsxs)("div",{className:"input_images",children:[Object(u.jsx)("i",{className:"fas fa-camera"}),Object(u.jsxs)("div",{className:"file_upload",children:[Object(u.jsx)("i",{className:"fas fa-image"}),Object(u.jsx)("input",{type:"file",id:"file",multiple:!0,accept:"image/*",onChange:function(t){var a=Object(F.a)(t.target.files),n="",r=[];a.forEach((function(e){return"image/jpeg"!==e.type&&"image/png"!==e.type?n="file format is incorrect":r.push(e)})),n&&e({type:C.a.Alert,payload:{err:n}}),m([].concat(Object(F.a)(p),r))}})]})]})]}),Object(u.jsx)("div",{className:"status_footer",children:Object(u.jsx)("button",{className:"btn btn-secondary",children:"Post"})})]})})})},R=a(33);var U=function(){var e=Object(l.c)((function(e){return e})),t=e.Auth,a=e.Status,r=e.Modal,c=(e.Theme,Object(l.b)());return Object(n.useEffect)((function(){c(Object(O.c)())}),[c]),Object(n.useEffect)((function(){t.token&&(c(Object(L.d)(t.token)),c(Object(R.a)(t.token)))}),[c,t.token]),Object(u.jsxs)(s.a,{children:[Object(u.jsx)(m,{}),Object(u.jsx)("input",{type:"checkbox",id:"theme"}),Object(u.jsx)("div",{className:"App ".concat((r||a)&&"mode"),children:Object(u.jsxs)("div",{className:"main",children:[t.token&&Object(u.jsx)(A,{}),a&&Object(u.jsx)(T,{}),Object(u.jsxs)(o.d,{children:[Object(u.jsx)(o.b,{exact:!0,path:"/",component:t.token?f.default:j.default}),Object(u.jsx)(o.b,{exact:!0,path:"/register",component:S.default}),Object(u.jsx)(E,{exact:!0,path:"/:name",component:d}),Object(u.jsx)(E,{excat:!0,path:"/:name/:id",component:d})]})]})})]})},D=a(31),I=a(73),G=a(74),H={};var z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C.a.Auth:return t.payload;default:return e}},M={};var Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C.a.Alert:return t.payload;default:return e}};var q=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C.a.Theme:return t.payload;default:return e}},W=a(14),B={loading:!1,ids:[],users:[],userPosts:[]},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W.d.Loading:return Object(P.a)(Object(P.a)({},e),{},{loading:t.payload});case W.d.GetUsers:return Object(P.a)(Object(P.a)({},e),{},{users:[].concat(Object(F.a)(e.users),[t.payload.user])});case W.d.Follow:case W.d.UnFollow:return Object(P.a)(Object(P.a)({},e),{},{users:e.users.map((function(e){return e._id===t.payload._id?t.payload:e}))});case W.d.GetId:return Object(P.a)(Object(P.a)({},e),{},{ids:[].concat(Object(F.a)(e.ids),[t.payload])});case W.d.GetUserPosts:return Object(P.a)(Object(P.a)({},e),{},{userPosts:[].concat(Object(F.a)(e.userPosts),[t.payload])});case W.d.UpdateUserPosts:return e.userPosts.map((function(a,n){return a._id===t.payload._id&&(t.payload.posts=[].concat(Object(F.a)(a.posts),Object(F.a)(t.payload.posts)),t.payload.result=a.result+t.payload.result,e.userPosts[n]=t.payload),e.userPosts})),Object(P.a)(Object(P.a)({},e),{},{userPosts:Object(F.a)(e.userPosts)});default:return e}};var J=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C.a.Status:return t.payload;default:return e}},K={posts:[],loading:!1,result:0,page:1},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L.f.createPost:return Object(P.a)(Object(P.a)({},e),{},{posts:[t.payload].concat(Object(F.a)(e.posts))});case L.f.loading:return Object(P.a)(Object(P.a)({},e),{},{loading:t.payload});case L.f.getPosts:return Object(P.a)(Object(P.a)({},e),{},{result:e.result+t.payload.result,posts:[].concat(Object(F.a)(e.posts),Object(F.a)(t.payload.posts)),page:e.page+1});case L.f.updatePost:return e.posts.map((function(a,n){return a._id===t.payload._id?e.posts[n]=t.payload:e.posts})),Object(P.a)(Object(P.a)({},e),{},{posts:e.posts});case L.f.deletePost:var a=e.posts.filter((function(e){return e._id!==t.payload._id}));return console.log(a),Object(P.a)(Object(P.a)({},e),{},{posts:a});default:return e}};var $=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C.a.Modal:return t.payload;default:return e}};var X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L.f.GetPost:return[].concat(Object(F.a)(e),[t.payload]);case L.f.updatePost:return e.map((function(a,n){return a._id===t.payload._id?e[n]=t.payload:a})),Object(F.a)(e);default:return e}},Y=a(51),ee={loading:!1,users:[]};var te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R.b.loading:return Object(P.a)(Object(P.a)({},e),{},{loading:t.payload});case R.b.getUser:return Object(P.a)(Object(P.a)({},e),{},{users:t.payload.users});default:return e}},ae=Object(D.c)({Auth:z,Alert:Z,Theme:q,Profile:Q,Status:J,HomePosts:V,Modal:$,DetailPost:X,Discover:Y.a,Suggestion:te}),ne=Object(D.d)(ae,Object(G.composeWithDevTools)(Object(D.a)(I.a))),re=function(e){var t=e.children;return Object(u.jsx)(l.a,{store:ne,children:t})};c.a.render(Object(u.jsx)(re,{children:Object(u.jsx)(U,{})}),document.getElementById("root"))},14:function(e,t,a){"use strict";a.d(t,"d",(function(){return d})),a.d(t,"c",(function(){return j})),a.d(t,"e",(function(){return b})),a.d(t,"b",(function(){return p})),a.d(t,"a",(function(){return m}));var n=a(9),r=a(2),c=a.n(r),s=a(3),o=a(6),i=a(8),l=a(32),u=a(7),d={Loading:"LOADING",GetUsers:"GET_USERS",Follow:"FOLLOW",UnFollow:"UNFOLLOW",GetId:"GET_ID",GetUserPosts:"GET_USER_POSTS",UpdateUserPosts:"UPDATE_USER_POSTS",DeleteUserPost:"DELETE_USER_POST"},j=function(e){e.users;var t=e.id,a=e.Auth;return function(){var e=Object(o.a)(c.a.mark((function e(n){var r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:d.GetId,payload:t}),e.prev=1,n({type:d.Loading,payload:!0}),e.next=5,Object(i.b)("user/".concat(t),a.token);case 5:return r=e.sent,e.next=8,Object(i.b)("user_post/".concat(t),a.token);case 8:o=e.sent,n({type:"GET_USERS",payload:r.data}),n({type:d.GetUserPosts,payload:Object(s.a)(Object(s.a)({},o.data),{},{_id:t,page:2})}),n({type:d.Loading,payload:!1}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),n({type:"ALERT",payload:{err:e.t0.response.data.msg}});case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}()},b=function(e){var t=e.updatedData,a=e.avatar,n=e.Auth;return function(){var e=Object(o.a)(c.a.mark((function e(r){var o,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.fullName){e.next=3;break}return e.abrupt("return",r({type:"ALERT",payload:{err:"Please add Full Name."}}));case 3:if(!(t.fullName.length>25)){e.next=5;break}return e.abrupt("return",r({type:"ALERT",payload:{err:"your Full Name is too long"}}));case 5:if(!(t.story.length>200)){e.next=7;break}return e.abrupt("return",r({type:"ALERT",payload:{err:"your Story is too long"}}));case 7:if(r({type:"ALERT",payload:{loading:!0}}),!a){e.next=12;break}return e.next=11,Object(l.b)([a]);case 11:o=e.sent;case 12:return e.next=14,Object(i.c)("user",Object(s.a)(Object(s.a)({},t),{},{avatar:a?o[0].url:n.user.avatar}),n.token);case 14:u=e.sent,console.log(u),r({type:"ALERT",payload:{loading:!1}}),r({type:"AUTH",payload:Object(s.a)(Object(s.a)({},n),{},{user:Object(s.a)(Object(s.a)(Object(s.a)({},n.user),t),{},{avatar:a?o[0].url:n.user.avatar})})}),r({type:"ALERT",payload:{success:u.data.msg}}),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(0),console.log(e.t0.data),r({type:"ALERT",payload:{err:e.t0.message}});case 25:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(t){return e.apply(this,arguments)}}()},p=function(e){var t=e.user,a=e.Auth;return function(){var e=Object(o.a)(c.a.mark((function e(r){var o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(s.a)(Object(s.a)({},t),{},{follower:[].concat(Object(n.a)(t.follower),[a.user])}),r({type:d.Follow,payload:o}),r({type:u.a.Auth,payload:Object(s.a)(Object(s.a)({},a),{},{user:Object(s.a)(Object(s.a)({},a.user),{},{following:[].concat(Object(n.a)(a.user.following),[t])})})}),e.prev=3,e.next=6,Object(i.c)("user/".concat(t._id,"/follow"),null,a.token);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),r({type:"ALERT",payload:{err:e.t0.message}});case 11:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}()},m=function(e){var t=e.user,a=e.Auth;return function(){var e=Object(o.a)(c.a.mark((function e(n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(s.a)(Object(s.a)({},t),{},{follower:t.follower.filter((function(e){return e._id!==a.user._id}))}),n({type:d.UnFollow,payload:r}),n({type:u.a.Auth,payload:Object(s.a)(Object(s.a)({},a),{},{user:Object(s.a)(Object(s.a)({},a.user),{},{following:a.user.following.filter((function(e){return e._id!==t._id}))})})}),e.prev=3,e.next=6,Object(i.c)("user/".concat(t._id,"/unfollow"),null,a.token);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),n({type:"ALERT",payload:{err:e.t0.message}});case 11:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}()}},19:function(e,t,a){"use strict";var n=a(4),r=a(0);t.a=function(e){var t=e.src,a=e.size,c=Object(n.c)((function(e){return e})).Theme;return Object(r.jsx)("img",{src:t,className:"".concat(a,"-avatar"),alt:"avatar",style:{filter:c?"invert(1)":"invert(0)"}})}},25:function(e,t,a){"use strict";var n=a(12),r=a(19),c=a(0);t.a=function(e){var t=e.children,a=e.user,s=e.border,o=e.handleClose,i=e.setShowFollowers,l=e.setShowFollowing;return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"d-flex p-2 align-items-center justify-content-between ".concat(s),children:[Object(c.jsxs)(n.b,{className:"d-flex",to:"/profile/".concat(a._id),onClick:function(){o&&o(),i&&i(!1),l&&l(!1)},style:{textDecoration:"none"},children:[Object(c.jsx)(r.a,{src:a.avatar,size:"lg"}),Object(c.jsxs)("div",{className:"ml-1",children:[Object(c.jsx)("span",{className:"d-block",children:a.userName}),Object(c.jsx)("span",{style:{opacity:"0.7"},children:a.fullName})]})]}),t]})})}},26:function(e,t,a){"use strict";a(1);var n=a(0);t.a=function(e){var t=e.result,a=e.page,r=e.load,c=e.handleLoadMore;return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:"load_more",children:t<a*(a-1)/2*3?"":!r&&Object(n.jsx)("button",{className:"btn btn-dark d-block mx-auto load_more_btn",onClick:c,children:"Load More"})})})}},28:function(e,t,a){"use strict";var n=a(2),r=a.n(n),c=a(6),s=a(5),o=a(1),i=a(4),l=a(14),u=a(0);t.a=function(e){var t=e.user,a=Object(o.useState)(!1),n=Object(s.a)(a,2),d=n[0],j=n[1],b=Object(i.c)((function(e){return e})),p=b.Auth,m=b.Profile,f=Object(i.b)(),O=Object(o.useState)(!1),h=Object(s.a)(O,2),x=h[0],v=h[1];Object(o.useEffect)((function(){p.user.following.find((function(e){return e._id===t._id}))&&j(!0)}),[p.user,m,t]);var g=function(){var e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!x){e.next=2;break}return e.abrupt("return");case 2:return v(!0),j(!0),e.next=6,f(Object(l.b)({user:t,Auth:p}));case 6:v(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!x){e.next=2;break}return e.abrupt("return");case 2:return v(!0),j(!1),e.next=6,f(Object(l.a)({user:t,Auth:p}));case 6:v(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.jsx)(u.Fragment,{children:d?Object(u.jsx)("button",{onClick:y,className:"btn btn-outline-danger",children:"Unfollow"}):Object(u.jsx)("button",{onClick:g,className:"btn btn-outline-info",children:"Follow"})})}},29:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"c",(function(){return u})),a.d(t,"d",(function(){return d})),a.d(t,"b",(function(){return j}));var n=a(3),r=a(2),c=a.n(r),s=a(6),o=a(8);var i=function(e){var t,a={};return e.fullName.length>25&&(a.fullName="atmost 25 characters allowed"),e.userName.length>25&&(a.userName="atmost 25 characters allowed"),t=e.email,/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t).toLowerCase())||(a.email="please provide a valid email"),e.password.length<6&&(a.password="password must be atleast 6 character long"),e.password!==e.cfPass&&(a.cfPass="Not matched "),console.log("in valid amd err is ",a),{errLength:Object.keys(a).length,err:a}},l=function(e){return function(){var t=Object(s.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"ALERT",payload:{loading:!0}}),t.next=4,Object(o.d)("login",e);case 4:n=t.sent,a({type:"AUTH",payload:{token:n.data.access_token,user:n.data.user}}),localStorage.setItem("firstLogin","true"),a({type:"ALERT",payload:{success:"logged in succesfully"}}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a({type:"ALERT",payload:{err:t.t0.response.data.msg}});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},u=function(){return function(){var e=Object(s.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("firstLogin")){e.next=14;break}return t({type:"ALERT",payload:{loading:!0}}),e.prev=3,e.next=6,Object(o.d)("refresh_token");case 6:a=e.sent,t({type:"AUTH",payload:{token:a.data.accessToken,user:a.data.user}}),t({type:"ALERT",payload:{}}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),t({type:"ALERT",payload:{err:e.t0.response.data.msg}});case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}()},d=function(e){return function(){var t=Object(s.a)(c.a.mark((function t(a){var r,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((r=i(e)).errLength>0)){t.next=3;break}return t.abrupt("return",a({type:"ALERT",payload:Object(n.a)({},r.err)}));case 3:return a({type:"ALERT",payload:{loading:!0}}),t.prev=4,t.next=7,Object(o.d)("register",e);case 7:s=t.sent,a({type:"AUTH",payload:{token:s.data.accessToken,user:s.data.user}}),a({type:"ALERT",payload:{success:s.data.msg}}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4),a({type:"ALERT",payload:{err:t.t0.response.data.msg}});case 15:case"end":return t.stop()}}),t,null,[[4,12]])})));return function(e){return t.apply(this,arguments)}}()},j=function(){return function(){var e=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,localStorage.removeItem("firstLogin"),t({type:"ALERT",payload:{loading:!0}}),e.next=5,Object(o.d)("logout");case 5:t({type:"ALERT",payload:{}}),window.location.href="/",e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"ALERT",payload:{err:e.t0.response.data.msg}});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()}},30:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return l}));var n=a(2),r=a.n(n),c=a(6),s=a(8),o=a(7),i={loading:"LOADING_DISCOVER",getPosts:"GET_DISCOVER_POST",updatePost:"GET_UPDATE_POST"},l=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:i.loading,payload:!0}),t.next=4,Object(s.b)("post_discover",e);case 4:n=t.sent,console.log(n),a({type:i.getPosts,payload:n.data}),a({type:i.loading,payload:!1}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a({type:o.a.Alert,payload:{err:t.t0.response.data.msg}});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}},32:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return i}));var n=a(2),r=a.n(n),c=a(71),s=a(6),o=function(e){var t="";return e?"image/jpeg"!==e.type&&"image/png"!==e.type?"image format is incorrect":e.size>1048576?"image should be less than 1 Mb":t:"file does not exist"},i=function(){var e=Object(s.a)(r.a.mark((function e(t){var a,n,s,o,i,l,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],n=Object(c.a)(t),e.prev=2,n.s();case 4:if((s=n.n()).done){e.next=20;break}return o=s.value,(i=new FormData).append("file",o),i.append("upload_preset","geabltpl"),i.append("cloud_name","dymzmaavj"),e.next=12,fetch("https://api.cloudinary.com/v1_1/dymzmaavj/image/upload",{method:"POST",body:i});case 12:return l=e.sent,e.next=15,l.json();case 15:u=e.sent,console.log(u),a.push({public_id:u.public_id,url:u.secure_url});case 18:e.next=4;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(2),n.e(e.t0);case 25:return e.prev=25,n.f(),e.finish(25);case 28:return console.log(a),e.abrupt("return",a);case 30:case"end":return e.stop()}}),e,null,[[2,22,25,28]])})));return function(t){return e.apply(this,arguments)}}()},33:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return l}));var n=a(2),r=a.n(n),c=a(6),s=a(8),o=a(7),i={loading:"LOADING_SUGGESTIONS",getUser:"GET_SUGGESTION"},l=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:i.loading,payload:!0}),t.next=4,Object(s.b)("suggestions_user",e);case 4:n=t.sent,console.log(n.data),a({type:i.getUser,payload:n.data}),a({type:i.loading,payload:!1}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a({type:o.a.Alert,payload:{err:t.t0.response.data.msg}});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}},36:function(e,t,a){"use strict";a(1);var n=a(12),r=a(4),c=a(0);t.a=function(e){var t=e.posts,a=e.result,s=Object(r.c)((function(e){return e})).Theme;return 0===a?Object(c.jsx)("h2",{className:"text-center text-danger",children:"No Post"}):Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("div",{className:"post_thumb",children:t.map((function(e){return Object(c.jsx)(n.b,{to:"/post/".concat(e._id),children:Object(c.jsxs)("div",{className:"post_thumb_display",children:[Object(c.jsx)("img",{src:e.images[0].url,alt:e.images[0].url,style:{filter:s?"invert(1)":"invert(0)"}}),Object(c.jsxs)("div",{className:"post_thumb_menu",children:[Object(c.jsx)("i",{className:"far fa-heart",children:e.likes.length}),Object(c.jsx)("i",{className:"far fa-comment",children:e.comments.length})]})]})})}))})})}},41:function(e,t,a){"use strict";a.r(t);var n=a(0);t.default=function(){return Object(n.jsx)("h1",{children:"not found"})}},43:function(e,t,a){"use strict";a.r(t);var n=a(27),r=a(3),c=a(5),s=a(1),o=a(13),i=a(12),l=a(29),u=a(4),d=a(0);t.default=function(){var e=Object(s.useState)(!1),t=Object(c.a)(e,2),a=t[0],j=t[1],b=Object(s.useState)({email:"",password:""}),p=Object(c.a)(b,2),m=p[0],f=p[1],O=Object(u.c)((function(e){return e})).Auth,h=Object(o.g)();Object(s.useEffect)((function(){O.token&&h.push("/")}),[O.token,h]);var x=function(e){var t=e.target.id;f(Object(r.a)(Object(r.a)({},m),{},Object(n.a)({},t,e.target.value)))},v=Object(u.b)();return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"auth_page",children:Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),v(Object(l.a)(m))},children:[Object(d.jsx)("h3",{className:"text-uppercase mb-4 text-center",children:"QNetwork"}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Email address"}),Object(d.jsx)("input",{type:"email",className:"form-control email",id:"email",onChange:x,value:m.email}),Object(d.jsx)("small",{id:"emailHelp",className:"form-text text-muted",children:"We'll never share your email with anyone else."})]}),Object(d.jsx)("div",{className:"form-group",children:Object(d.jsxs)("div",{className:"pass",children:[Object(d.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Password"}),Object(d.jsx)("input",{type:a?"text":"password",className:"form-control password",id:"password",onChange:x,value:m.password}),Object(d.jsx)("small",{style:{cursor:"pointer"},onClick:function(){j(!a)},children:a?"Hide":"Show"})]})}),Object(d.jsx)("button",{type:"submit",className:"btn btn-dark w-100 ",disabled:!m.email||!m.password,children:"Login"}),Object(d.jsxs)("p",{className:"my-2",children:["Don't have an account? ",Object(d.jsx)(i.b,{to:"/register",style:{color:"crimson"},children:"Register Now"})]})]})})})}},44:function(e,t,a){"use strict";a.r(t);var n=a(27),r=a(3),c=a(5),s=a(1),o=a(13),i=a(12),l=a(4),u=a(29),d=a(0);t.default=function(){var e=Object(l.c)((function(e){return e})),t=e.Auth,a=e.Alert,j=Object(o.g)(),b=Object(l.b)();Object(s.useEffect)((function(){t.token&&j.push("/")}),[t.token,j]);var p=Object(s.useState)(!1),m=Object(c.a)(p,2),f=m[0],O=m[1],h=Object(s.useState)(!1),x=Object(c.a)(h,2),v=x[0],g=x[1],y=Object(s.useState)({fullName:"",userName:"",email:"",password:"",cfPass:"",gender:"male"}),N=Object(c.a)(y,2),w=N[0],k=N[1],_=function(e){var t=e.target.name;k(Object(r.a)(Object(r.a)({},w),{},Object(n.a)({},t,e.target.value)))};return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"auth_page",children:Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),b(Object(u.d)(w))},children:[Object(d.jsx)("h3",{className:"text-uppercase mb-4 text-center",children:"QNetwork"}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"fullName",children:"Full Name"}),Object(d.jsx)("input",{type:"text",className:"form-control ",name:"fullName",id:"fullName",onChange:_,value:w.fullName,required:!0,style:{background:"".concat(a.fullName?"#fd2d6a14":""," ")}}),a.fullName&&Object(d.jsx)("small",{className:"form-text text-danger",children:a.fullName})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"userName",children:"User Name"}),Object(d.jsx)("input",{type:"text",className:"form-control ",name:"userName",id:"userName",onChange:_,value:w.userName.toLowerCase().replace(/ /g,""),required:!0,style:{background:"".concat(a.userName?"#fd2d6a14":""," ")}}),a.userName&&Object(d.jsx)("small",{className:"form-text text-danger",children:a.userName})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"email",children:"Email address"}),Object(d.jsx)("input",{type:"email",className:"form-control email",name:"email",id:"email",onChange:_,value:w.email,required:!0,style:{background:"".concat(a.email?"#fd2d6a14":""," ")}}),a.email&&Object(d.jsx)("small",{className:"form-text text-danger",children:a.email})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsxs)("div",{className:"pass",children:[Object(d.jsx)("label",{htmlFor:"password",children:"Password"}),Object(d.jsx)("input",{type:f?"text":"password",className:"form-control password",name:"password",id:"password",onChange:_,value:w.password,required:!0,style:{background:"".concat(a.password?"#fd2d6a14":""," ")}}),Object(d.jsx)("small",{onClick:function(){O(!f)},children:f?"Hide":"Show"})]}),a.password&&Object(d.jsx)("small",{className:"form-text text-danger",children:a.password})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsxs)("div",{className:"pass",children:[Object(d.jsx)("label",{htmlFor:"cfPassword",children:" Confirm Password"}),Object(d.jsx)("input",{type:v?"text":"password",className:"form-control",name:"cfPass",id:"cfPassword",onChange:_,value:w.cfPass,required:!0,style:{background:"".concat(a.cfPass?"#fd2d6a14":""," ")}}),Object(d.jsx)("small",{onClick:function(){g(!v)},children:v?"Hide":"Show"})]}),a.cfPass&&Object(d.jsx)("small",{className:"form-text text-danger",children:a.cfPass})]}),Object(d.jsxs)("div",{className:"row justify-content-between mb-1 mx-0",children:[Object(d.jsxs)("label",{htmlFor:"male",children:["Male: ",Object(d.jsx)("input",{className:!0,type:"radio",name:"gender",id:"male",value:"male",defaultChecked:!0,onChange:_})]}),Object(d.jsxs)("label",{htmlFor:"female",children:["Female: ",Object(d.jsx)("input",{type:"radio",id:"female",name:"gender",value:"female",onChange:_})]}),Object(d.jsxs)("label",{htmlFor:"other",children:["Other: ",Object(d.jsx)("input",{type:"radio",id:"other",name:"gender",value:"other",onChange:_})]})]}),Object(d.jsx)("button",{type:"submit",className:"btn btn-dark w-100 ",disabled:!(w.email&&w.password&&w.cfPass&&w.fullName&&w.userName),children:"Sign Up"}),Object(d.jsxs)("p",{className:"my-2",children:["Already have an account? ",Object(d.jsx)(i.b,{to:"/",style:{color:"crimson"},children:"Login Now"})]})]})})})}},45:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(2),c=a.n(r),s=a(6),o=a(5),i=a(4),l=a(47),u=a(26),d=a(8),j=a(10),b=a(0);var p=function(){var e=Object(i.c)((function(e){return e})),t=e.HomePosts,a=e.Auth,r=Object(n.useState)(!1),p=Object(o.a)(r,2),m=p[0],f=p[1],O=Object(i.b)(),h=function(){var e=Object(s.a)(c.a.mark((function e(){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,Object(d.b)("posts?limit=".concat(3*t.page,"&page=").concat(t.page),a.token);case 3:n=e.sent,O({type:j.f.getPosts,payload:n.data}),f(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"posts",children:[t.posts.map((function(e){return Object(b.jsx)(l.a,{post:e},e._id)})),m&&Object(b.jsx)("img",{className:"d-block mx-auto my-4",style:{width:"100px"},src:"https://i.gifer.com/ZZ5H.gif",alt:"loading..."}),Object(b.jsx)(u.a,{page:t.page,result:t.result,load:m,handleLoadMore:h})]})})},m=a(25),f=a(28),O=a(33);var h=function(){var e=Object(i.c)((function(e){return e})),t=e.Auth,a=e.Suggestion,n=Object(i.b)();return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"my-3",children:[Object(b.jsx)(m.a,{user:t.user}),Object(b.jsxs)("div",{className:"d-flex justify-content-between align-items-center my-2",children:[Object(b.jsx)("h5",{className:"text-danger",children:"Suggestion for you"}),!a.loading&&Object(b.jsx)("i",{className:"fas fa-redo",onClick:function(){return n(Object(O.a)(t.token))},style:{cursor:"pointer"}})]}),a.loading?Object(b.jsx)("img",{className:"d-block mx-auto my-4",style:{width:"100px"},src:"https://i.gifer.com/ZZ5H.gif",alt:"loading..."}):Object(b.jsx)("div",{className:"suggestions",children:a.users.map((function(e){return Object(b.jsx)(m.a,{user:e,children:Object(b.jsx)(f.a,{user:e})},e._id)}))})]})})},x=a(19),v=a(7);var g=function(){var e=Object(i.c)((function(e){return e})).Auth,t=Object(i.b)();return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"status d-flex my-3",children:[Object(b.jsx)(x.a,{src:e.user.avatar,size:"lg"}),Object(b.jsxs)("button",{className:"statusBtn flex-fill",onClick:function(){return t({type:v.a.Status,payload:!0})},children:[e.user.userName,", what are you thinking ?"]})]})})};t.default=function(){var e=Object(i.c)((function(e){return e})).HomePosts;return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"home row mx-0",style:{paddingBottom:"55px"},children:[Object(b.jsxs)("div",{className:"col-md-8 home_container",children:[Object(b.jsx)(g,{}),e.loading?Object(b.jsx)("img",{className:"d-block ",style:{width:"30%",height:"30%",margin:"auto",objectFit:"contain"},src:"https://i.gifer.com/ZZ5H.gif",alt:"avatar"}):0===e.result?Object(b.jsx)("h3",{className:"text-center text-danger",children:"No Posts"}):Object(b.jsx)(p,{})]}),Object(b.jsx)("div",{className:"col-md-4",children:Object(b.jsx)(h,{})})]})})}},47:function(e,t,a){"use strict";var n=a(5),r=a(1),c=a(4),s=a(0);var o=function(e){var t=e.post,a=Object(c.c)((function(e){return e})).Theme;function n(e){if(0===e)return"active"}return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{id:"image".concat(t._id),className:"carousel slide","data-ride":"carousel",children:[Object(s.jsx)("ol",{className:"carousel-indicators",children:t.images.map((function(e,a){return Object(s.jsx)("li",{"data-target":"#image".concat(t._id),"data-slide-to":a,className:n(a)},a)}))}),Object(s.jsx)("div",{className:"carousel-inner",children:t.images.map((function(e,t){return Object(s.jsx)("div",{className:"carousel-item ".concat(n(t)),children:Object(s.jsx)("img",{src:e.url,className:"d-block w-100 ",alt:"...",style:{filter:a?"invert(1)":"invert(0)"}})},t)}))}),Object(s.jsxs)("a",{className:"carousel-control-prev",href:"#image".concat(t._id),role:"button","data-slide":"prev",children:[Object(s.jsx)("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),Object(s.jsx)("span",{className:"sr-only",children:"Previous"})]}),Object(s.jsxs)("a",{className:"carousel-control-next",href:"#image".concat(t._id),role:"button","data-slide":"next",children:[Object(s.jsx)("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),Object(s.jsx)("span",{className:"sr-only",children:"Next"})]})]})})};var i=function(e){var t=e.post,a=Object(r.useState)(!1),c=Object(n.a)(a,2),i=c[0],l=c[1];return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{className:"card_body",children:[Object(s.jsxs)("div",{className:"card_body_content",children:[t.content.length<60?t.content:i?t.content+"  ":t.content.slice(0,60)+"......",Object(s.jsx)("span",{className:"read_more",onClick:function(){return l(!i)},children:t.content.length>60?i?"show less":"Read more":" "})]}),t.images.length>0&&Object(s.jsx)(o,{post:t})]})})},l=a(2),u=a.n(l),d=a(6),j=a(12),b=a.p+"static/media/send.fab9d966.svg";var p=function(e){var t=e.isLike,a=e.handleLike,n=e.handleUnLike,r=Object(c.c)((function(e){return e})).Theme;return Object(s.jsx)(s.Fragment,{children:t?Object(s.jsx)("i",{className:"fas fa-heart text-danger",onClick:n,style:{filter:r?"invert(1)":"invert(0)"}}):Object(s.jsx)("i",{className:"far fa-heart",onClick:a})})},m=a(10),f=a(110),O=a(111),h=a(112),x=a(113),v=a(114),g=a(115),y=a(116),N=a(117),w=a(118),k=a(119);var _=function(e){var t=e.url,a=e.Theme;return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{className:"d-flex justify-content-between px-4 py-2",style:{filter:a?"invert(1)":"invert(0)"},children:[Object(s.jsx)(f.a,{url:t,children:Object(s.jsx)(O.a,{size:24,round:!0})}),Object(s.jsx)(h.a,{url:t,children:Object(s.jsx)(x.a,{size:24,round:!0})}),Object(s.jsx)(v.a,{url:t,children:Object(s.jsx)(g.a,{size:24,round:!0})}),Object(s.jsx)(y.a,{url:t,children:Object(s.jsx)(N.a,{size:24,round:!0})}),Object(s.jsx)(w.a,{children:Object(s.jsx)(k.a,{size:24,round:!0})})]})})},A="http://localhost:3000";var S=function(e){var t=e.post,a=Object(r.useState)(!1),o=Object(n.a)(a,2),i=o[0],l=o[1],f=Object(r.useState)(!1),O=Object(n.a)(f,2),h=O[0],x=O[1],v=Object(r.useState)(!1),g=Object(n.a)(v,2),y=g[0],N=g[1],w=Object(r.useState)(!1),k=Object(n.a)(w,2),S=k[0],P=k[1],E=Object(c.b)(),F=Object(c.c)((function(e){return e})),C=F.Auth,L=F.Theme;Object(r.useEffect)((function(){t.likes.find((function(e){return e._id===C.user._id}))?l(!0):l(!1)}),[t.likes,C.user._id]);var T=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h){e.next=2;break}return e.abrupt("return");case 2:return x(!0),l(!0),e.next=6,E(Object(m.e)({post:t,Auth:C}));case 6:x(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h){e.next=2;break}return e.abrupt("return");case 2:return x(!0),l(!1),e.next=6,E(Object(m.g)({post:t,Auth:C}));case 6:x(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h){e.next=2;break}return e.abrupt("return");case 2:return x(!0),P(!0),e.next=6,E(Object(m.h)({post:t,Auth:C}));case 6:x(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h){e.next=2;break}return e.abrupt("return");case 2:return x(!0),P(!1),e.next=6,E(Object(m.i)({post:t,Auth:C}));case 6:x(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){C.user.saved.find((function(e){return e===t._id}))?P(!0):P(!1)}),[C.user.saved,t._id]),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("div",{className:"card_footer",children:[Object(s.jsxs)("div",{className:"card_icon_menu",children:[Object(s.jsxs)("div",{children:[Object(s.jsx)(p,{isLike:i,handleLike:T,handleUnLike:R}),Object(s.jsx)(j.b,{to:"/post/".concat(t._id),className:"text-dark",children:Object(s.jsx)("i",{className:"far fa-comment"})}),Object(s.jsx)("img",{src:b,alt:"Send",onClick:function(){return N(!y)}})]}),S?Object(s.jsx)("i",{className:"fas fa-bookmark text-info",onClick:D}):Object(s.jsx)("i",{className:"far fa-bookmark",onClick:U})]}),Object(s.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(s.jsxs)("h6",{style:{padding:"0 25px",cursor:"pointer"},children:[t.likes.length," likes"]}),Object(s.jsxs)("h6",{style:{padding:"0 25px",cursor:"pointer"},children:[t.comments.length," comments"]})]})]}),y&&Object(s.jsx)(_,{url:"".concat(A,"/post/").concat(t._id),Theme:L})]})},P=a(3),E=a(19),F=a(13),C=a(46),L=a.n(C),T=a(7);var R=function(e){var t=e.post,a=Object(c.c)((function(e){return e})).Auth,n=Object(c.b)(),r=Object(F.g)();return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{className:"card_header",children:[Object(s.jsxs)("div",{className:"d-flex",children:[Object(s.jsx)(E.a,{src:t.user.avatar,size:"lg"}),Object(s.jsxs)("div",{className:"card_name",children:[Object(s.jsx)("h6",{className:"m-0",children:Object(s.jsx)(j.b,{to:"/profile/".concat(t.user._id),style:{color:"#343a40"},children:t.user.userName})}),Object(s.jsx)("small",{className:"text-muted",children:L()(t.createdAt).fromNow()})]})]}),Object(s.jsxs)("div",{className:"nav-item dropdown",children:[Object(s.jsx)("span",{className:"material-icons",id:"moreLink","data-toggle":"dropdown",children:"more_horiz"}),Object(s.jsxs)("div",{className:"dropdown-menu",children:[a.user._id===t.user._id&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("div",{className:"dropdown-item",onClick:function(){n({type:T.a.Status,payload:Object(P.a)(Object(P.a)({},t),{},{onEdit:!0})})},children:[Object(s.jsx)("span",{className:"material-icons",children:"create"})," Edit Post"]}),Object(s.jsxs)("div",{className:"dropdown-item",onClick:function(){if(window.confirm("Are you sure you want to delete this post ?"))return n(Object(m.b)({post:t,Auth:a})),r.push("/")},children:[Object(s.jsx)("span",{className:"material-icons",children:"delete_outline"})," Remove Post"]})]}),Object(s.jsxs)("div",{className:"dropdown-item",onClick:function(){navigator.clipboard.writeText("".concat(A,"/post/").concat(t._id))},children:[Object(s.jsx)("span",{className:"material-icons",children:"content_copy"})," Copy Link"]})]})]})]})})},U=a(9),D=a(8),I=function(e){var t=e.comment,a=e.post,n=e.Auth;return function(){var e=Object(d.a)(u.a.mark((function e(r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.likes=[].concat(Object(U.a)(t.likes),[n.user]),a.comments.map((function(e,n){return e._id===t._id&&(a.comments[n]=t),e})),r({type:m.f.updatePost,payload:a}),e.prev=3,e.next=6,Object(D.c)("comment/".concat(t._id,"/like"),null,n.token);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),r({type:T.a.Alert,payload:{err:e.t0.response.data.msg}});case 11:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}()},G=function(e){var t=e.comment,a=e.post,n=e.Auth;return function(){var e=Object(d.a)(u.a.mark((function e(r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.likes=t.likes.filter((function(e){return e._id!==n.user._id})),a.comments.map((function(e,n){return e._id===t._id&&(a.comments[n]=t),e})),r({type:m.f.updatePost,payload:a}),e.prev=3,e.next=6,Object(D.c)("comment/".concat(t._id,"/unlike"),null,n.token);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),r({type:T.a.Alert,payload:{err:e.t0.response.data.msg}});case 11:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}()};var H=function(e){var t=e.children,a=e.post,o=e.onReply,i=e.setOnReply,l=Object(r.useState)(""),j=Object(n.a)(l,2),b=j[0],p=j[1],f=Object(c.c)((function(e){return e})).Auth,O=Object(c.b)();return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("form",{className:"card-footer comment_input",onSubmit:function(e){if(e.preventDefault(),b.trim()){p("");var t={content:b,likes:[],user:f.user,createdAt:(new Date).toISOString(),reply:o&&o.commentId,tag:o&&o.user};console.log("newComment",t),O(function(e){var t=e.newComment,a=e.post,n=e.Auth;return function(){var e=Object(d.a)(u.a.mark((function e(r){var c,s,o,i,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("in creetae comment",t),c=Object(P.a)(Object(P.a)({},a),{},{comments:[].concat(Object(U.a)(a.comments),[t])}),s=Object(P.a)(Object(P.a)({},t),{},{postId:a._id,postUserId:a.user._id}),r({type:m.f.updatePost,payload:c}),e.prev=4,e.next=7,Object(D.d)("comment",s,n.token);case 7:o=e.sent,console.log(o),i=Object(P.a)(Object(P.a)({},o.data.newComment),{},{user:n.user,tag:t.tag}),l=Object(P.a)(Object(P.a)({},a),{},{comments:[].concat(Object(U.a)(a.comments),[i])}),r({type:m.f.updatePost,payload:l}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),r({type:T.a.Alert,payload:{err:e.t0.response.data.msg}});case 17:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}()}({newComment:t,post:a,Auth:f})),i&&i(!1)}else i&&i(!1)},children:[t,Object(s.jsx)("input",{type:"text",placeholder:"Add your comment...",value:b,onChange:function(e){return p(e.target.value)}}),Object(s.jsx)("button",{type:"submit",className:"postBtn",children:"Post"})]})})};var z=function(e){var t=e.post,a=e.comment,n=e.Auth,r=e.setOnEdit,o=Object(c.b)(),i=function(){o(function(e){var t=e.post,a=e.comment,n=e.Auth;return function(){var e=Object(d.a)(u.a.mark((function e(r){var c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=[].concat(Object(U.a)(t.comments.filter((function(e){return e.reply===a._id}))),[a]),s=Object(P.a)(Object(P.a)({},t),{},{comments:t.comments.filter((function(e){return!c.find((function(t){return t._id===e._id}))}))}),r({type:m.f.updatePost,payload:s});try{c.forEach(function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.a)("comment/".concat(t._id),n.token);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}catch(o){r({type:T.a.Alert,payload:{err:o.response.data.msg}})}case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}({post:t,comment:a,Auth:n}))};function l(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("div",{className:"dropdown-item",onClick:function(){return r(!0)},children:[Object(s.jsx)("span",{className:"material-icons",children:"create"})," Edit"]}),Object(s.jsxs)("div",{className:"dropdown-item",children:[Object(s.jsx)("span",{className:"material-icons",onClick:i,children:"delete_outline"})," Remove"]})]})}return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{className:"comment_menu",children:Object(s.jsxs)("div",{className:"nav-item dropdown",children:[Object(s.jsx)("span",{className:"material-icons",id:"moreLink","data-toggle":"dropdown",style:{cursor:"pointer"},children:"more_vert"}),t.user._id===n.user._id||a.user._id===n.user._id?Object(s.jsx)("div",{className:"dropdown-menu","aria-labelledby":"moreLink",style:{cursor:"pointer"},children:t.user._id===n.user._id?a.user._id===n.user._id?l():Object(s.jsxs)("div",{className:"dropdown-item",children:[Object(s.jsx)("span",{className:"material-icons",onClick:i,children:"delete_outline"})," Remove"]}):a.user._id===n.user._id&&l()}):""]})})})};var M=function(e){var t=e.children,a=e.comment,o=e.post,i=e.commentId,l=Object(r.useState)(!1),b=Object(n.a)(l,2),f=b[0],O=b[1],h=Object(r.useState)(""),x=Object(n.a)(h,2),v=x[0],g=x[1],y=Object(r.useState)(!1),N=Object(n.a)(y,2),w=N[0],k=N[1],_=Object(r.useState)(!1),A=Object(n.a)(_,2),S=A[0],F=A[1],C=Object(r.useState)(!1),R=Object(n.a)(C,2),U=R[0],M=R[1],Z=Object(c.c)((function(e){return e})).Auth,q=Object(r.useState)(!1),W=Object(n.a)(q,2),B=W[0],Q=W[1],J=Object(c.b)();Object(r.useEffect)((function(){g(a.content),a.likes.find((function(e){return e._id===Z.user._id}))&&k(!0)}),[a,Z.user,J]);var K={opacity:a._id?1:.5},V=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!U){e.next=2;break}return e.abrupt("return");case 2:return M(!0),k(!0),e.next=6,J(I({post:o,comment:a,Auth:Z}));case 6:M(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!U){e.next=2;break}return e.abrupt("return");case 2:return M(!0),k(!1),e.next=6,J(G({post:o,comment:a,Auth:Z}));case 6:M(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("div",{className:"comment_card mt-2",children:[Object(s.jsxs)(j.b,{to:"/profile/".concat(a.user._id),className:"d-flex text-dark",children:[Object(s.jsx)(E.a,{src:a.user.avatar,size:"sm"}),Object(s.jsx)("h6",{className:"mx-1",children:a.user.userName})]}),Object(s.jsxs)("div",{className:"comment_content",style:K,children:[Object(s.jsxs)("div",{children:[B?Object(s.jsx)("textarea",{className:"textarea",rows:"5",value:v,onChange:function(e){return g(e.target.value)}}):Object(s.jsxs)("div",{children:[a.tag&&a.tag._id!==a.user._id&&Object(s.jsxs)(j.b,{style:{marginRight:".25rem"},to:"/profile/".concat(a.tag._id),children:["@",a.tag.userName]}),Object(s.jsx)("span",{children:v.length<60?v:f?v+" ":v.slice(0,60)+"....."}),v.length>60&&Object(s.jsx)("span",{className:"readMore",onClick:function(){return O(!f)},children:f?"Show less":"Read more"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("small",{className:"text-muted mr-3",children:L()(a.createdAt).fromNow()}),Object(s.jsxs)("small",{className:"font-weight-bold mr-3",children:[a.likes.length," likes"]}),Object(s.jsx)("small",{className:"font-weight-bold mr-3",onClick:function(){if(S)return F(!1);F(Object(P.a)(Object(P.a)({},a),{},{commentId:i}))},children:S?"cancle":"reply"}),B?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("small",{className:"font-weight-bold mr-3",onClick:function(){a.content!==v?(J(function(e){var t=e.comment,a=e.post,n=e.content,r=e.Auth;return function(){var e=Object(d.a)(u.a.mark((function e(c){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.content=n,a.comments.map((function(e,n){return e._id===t._id&&(a.comments[n]=t),e})),c({type:m.f.updatePost,payload:a}),e.prev=3,e.next=6,Object(D.c)("comment/".concat(t._id),{content:n},r.token);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),c({type:T.a.Alert,payload:{err:e.t0.response.data.msg}});case 11:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}()}({comment:a,content:v,post:o,Auth:Z})),Q(!1)):Q(!1)},children:"Update"}),Object(s.jsx)("small",{className:"font-weight-bold mr-3",onClick:function(){g(a.content),Q(!1)},children:"Cancle"})]}):""]})]}),Object(s.jsxs)("div",{className:"like d-flex align-items-center",children:[Object(s.jsx)(z,{post:o,comment:a,Auth:Z,setOnEdit:Q}),Object(s.jsx)(p,{isLike:w,handleLike:V,handleUnLike:$,style:{cursor:"pointer"}})]})]}),S&&Object(s.jsx)(H,{post:o,onReply:S,setOnReply:F,children:Object(s.jsxs)(j.b,{to:"/profile/${onReply.user._id}",className:"mr-1",children:["@",S.user.userName,":"]})})]}),t]})};var Z=function(e){var t=e.comment,a=e.post,c=e.replyCm,o=Object(r.useState)([]),i=Object(n.a)(o,2),l=i[0],u=i[1],d=Object(r.useState)(1),j=Object(n.a)(d,2),b=j[0],p=j[1];return Object(r.useEffect)((function(){c.length-b>=0?u(c.slice(c.length-b)):u(c)}),[c,b]),Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{className:"comment_display",children:Object(s.jsx)(M,{comment:t,post:a,commentId:t._id,children:Object(s.jsxs)("div",{className:"pl-4",children:[l.map((function(e,n){return e.reply&&Object(s.jsx)(M,{comment:e,post:a,commentId:t._id},n)})),c.length-b>0?Object(s.jsx)("div",{style:{cursor:"pointer",color:"crimson"},onClick:function(){p(b+5)},children:"See more reply..."}):c.length>1&&Object(s.jsx)("div",{className:"p-2 border-top",style:{cursor:"pointer",color:"crimson"},onClick:function(){p(1)},children:"Hide comments"})]})})})})};var q=function(e){var t=e.post,a=Object(r.useState)([]),c=Object(n.a)(a,2),o=c[0],i=c[1],l=Object(r.useState)([]),u=Object(n.a)(l,2),d=u[0],j=u[1],b=Object(r.useState)(2),p=Object(n.a)(b,2),m=p[0],f=p[1],O=Object(r.useState)([]),h=Object(n.a)(O,2),x=h[0],v=h[1];return Object(r.useEffect)((function(){var e=t.comments.filter((function(e){return!e.reply}));i(e),e.length-m>=0?j(e.slice(e.length-m)):j(e.slice(0))}),[t.comments,m]),Object(r.useEffect)((function(){var e=t.comments.filter((function(e){return e.reply}));v(e)}),[t.comments]),Object(s.jsxs)(s.Fragment,{children:[d.map((function(e){return Object(s.jsx)(Z,{comment:e,post:t,replyCm:x.filter((function(t){return t.reply===e._id}))},e._id)})),o.length-m>0?Object(s.jsx)("div",{className:"p-2 border-top",style:{cursor:"pointer",color:"crimson"},onClick:function(){f(m+10)},children:"See more comments"}):o.length>2&&Object(s.jsx)("div",{className:"p-2 border-top",style:{cursor:"pointer",color:"crimson"},onClick:function(){f(2)},children:"Hide comments"})]})};t.a=function(e){var t=e.post;return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{className:"card",children:[Object(s.jsx)(R,{post:t}),Object(s.jsx)(i,{post:t}),Object(s.jsx)(S,{post:t}),Object(s.jsx)(q,{post:t}),Object(s.jsx)(H,{post:t})]})})}},51:function(e,t,a){"use strict";var n=a(9),r=a(3),c=a(30),s={loading:!1,posts:[],result:0,page:2,firstLoad:!1};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.a.loading:return Object(r.a)(Object(r.a)({},e),{},{loading:t.payload});case c.a.getPosts:return Object(r.a)(Object(r.a)({},e),{},{posts:t.payload.posts,result:t.payload.result,firstLoad:!0});case c.a.updatePost:return Object(r.a)(Object(r.a)({},e),{},{posts:[].concat(Object(n.a)(e.posts),Object(n.a)(t.payload.posts)),page:e.page+1,result:e.result+t.payload.result});default:return e}}},57:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),c=a(6),s=a(5),o=a(1),i=a(4),l=a(36),u=a(30),d=a(26),j=(a(51),a(8)),b=a(0);t.default=function(){var e=Object(i.c)((function(e){return e})),t=e.Auth,a=e.Discover,n=e.Profile,p=Object(i.b)(),m=Object(o.useState)(!1),f=Object(s.a)(m,2),O=f[0],h=f[1];Object(o.useEffect)((function(){a.firstLoad||p(Object(u.b)(t.token))}),[t.token,p,a.firstLoad,n.user]);var x=function(){var e=Object(c.a)(r.a.mark((function e(){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,Object(j.b)("post_discover?limit=".concat(3*a.page,"&page=").concat(a.page),t.token);case 3:n=e.sent,console.log(n),p({type:u.a.updatePost,payload:n.data}),h(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{children:[a.loading?Object(b.jsx)("img",{className:"d-block mx-auto my-4",style:{width:"100px"},src:"https://i.gifer.com/ZZ5H.gif",alt:"loading..."}):Object(b.jsx)(l.a,{posts:a.posts,result:a.result}),O&&Object(b.jsx)("img",{className:"d-block mx-auto my-4",style:{width:"100px"},src:"https://i.gifer.com/ZZ5H.gif",alt:"loading..."}),!a.loading&&Object(b.jsx)(d.a,{result:a.result,page:a.page,load:O,handleLoadMore:x})]})})}},66:function(e,t,a){"use strict";a.r(t);var n=a(0);t.default=function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("h1",{children:"message"})})}},67:function(e,t,a){"use strict";a.r(t);a(1);var n=a(0);t.default=function(){return Object(n.jsx)("h1",{children:"Notify"})}},68:function(e,t,a){"use strict";a.r(t);var n=a(5),r=a(1),c=a(4),s=a(13),o=a(10),i=a(47),l=a(0);t.default=function(e){e.post;var t=Object(s.i)().id,a=Object(r.useState)([]),u=Object(n.a)(a,2),d=u[0],j=u[1],b=Object(c.c)((function(e){return e})),p=b.Auth,m=b.DetailPost,f=Object(c.b)();return Object(r.useEffect)((function(){if(f(Object(o.c)({DetailPost:m,id:t,Auth:p})),m.length>0){var e=m.filter((function(e){return e._id===t}));j(e),console.log(e)}}),[m,t,p,f]),Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"posts detailPost",children:[0===d.length&&Object(l.jsx)("img",{className:"d-block mx-auto my-4",style:{width:"100px"},src:"https://i.gifer.com/ZZ5H.gif",alt:"loading..."}),d.map((function(e){return Object(l.jsx)(i.a,{post:e},e._id)}))]})})}},69:function(e,t,a){"use strict";a.r(t);var n=a(5),r=a(1),c=a(19),s=a(27),o=a(3),i=a(4),l=a(32),u=a(14),d=a(0);var j=function(e){var t=e.setOnEdit,a=Object(r.useState)({fullName:"",mobile:"",website:"",address:"",gender:"",story:""}),c=Object(n.a)(a,2),j=c[0],b=c[1],p=j.fullName,m=j.mobile,f=j.website,O=j.address,h=j.gender,x=j.story,v=Object(r.useState)(""),g=Object(n.a)(v,2),y=g[0],N=g[1],w=Object(i.c)((function(e){return e})),k=w.Auth,_=w.Theme,A=Object(i.b)(),S=function(e){var t=e.target,a=t.name,n=t.value;b(Object(o.a)(Object(o.a)({},j),{},Object(s.a)({},a,n))),console.log(e.target)};return Object(r.useEffect)((function(){b(k.user)}),[k.user]),Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"edit_profile",children:[Object(d.jsx)("button",{className:"btn btn-danger btn_close",onClick:function(){return t(!1)},children:"Close"}),Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),A(Object(u.e)({updatedData:j,avatar:y,Auth:k}))},children:[Object(d.jsxs)("div",{className:"info_avatar",children:[Object(d.jsx)("img",{src:y?URL.createObjectURL(y):k.user.avatar,alt:"avatar",style:{filter:_?"invert(1)":"invert(0)"}}),Object(d.jsxs)("span",{children:[Object(d.jsx)("i",{className:"fas fa-camera"}),Object(d.jsx)("p",{children:"Change"}),Object(d.jsx)("input",{type:"file",name:"file",id:"file_up",accept:"image/*",onChange:function(e){var t=e.target.files[0],a=Object(l.a)(t);if(a)return A({type:"ALERT",payload:{err:a}});N(t)}})]})]}),Object(d.jsx)("div",{className:"form-group",children:Object(d.jsxs)("div",{className:"position-relative",children:[Object(d.jsx)("label",{htmlFor:"fullName",children:"Full name"}),Object(d.jsx)("input",{type:"text",id:"fullName",className:"form-control",name:"fullName",value:p,onChange:S}),Object(d.jsxs)("small",{className:"position-absolute text-danger",style:{top:"50%",right:"0",transform:"translate(-30%,25%)"},children:[p.length,"/25"]})]})}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"mobile",children:"Mobile"}),Object(d.jsx)("input",{type:"text",className:"form-control",id:"mobile",name:"mobile",value:m,onChange:S})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"address",children:"Address"}),Object(d.jsx)("input",{type:"text",className:"form-control",id:"address",name:"address",value:O,onChange:S})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"website",children:"Website"}),Object(d.jsx)("input",{type:"text",className:"form-control",id:"website",name:"website",value:f,onChange:S})]}),Object(d.jsxs)("div",{className:"form-group position-relative",children:[Object(d.jsx)("label",{htmlFor:"story",children:"Story"}),Object(d.jsx)("textarea",{cols:"30",rows:"4",className:"form-control",id:"story",name:"story",value:x,onChange:S}),Object(d.jsxs)("small",{className:"position-absolute text-danger",style:{right:"0px"},children:[x.length,"/200"]})]}),Object(d.jsx)("label",{htmlFor:"gender",children:"Gender"}),Object(d.jsxs)("select",{name:"gender",id:"gender",className:"form-control",onChange:S,value:h,children:[Object(d.jsx)("option",{value:"male",children:"Male"}),Object(d.jsx)("option",{value:"female",children:"Female"}),Object(d.jsx)("option",{value:"other",children:"Other"})]}),Object(d.jsx)("button",{className:"btn btn-info w-100 mt-4",type:"submit",children:"Save"})]})]})})},b=a(28),p=a(25);var m=function(e){var t=e.users,a=e.setShowFollowers,n=Object(i.c)((function(e){return e})).Auth;return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"follow",children:Object(d.jsxs)("div",{className:"follow_box text-center",children:[Object(d.jsx)("h5",{children:"Followers"}),Object(d.jsx)("hr",{}),t.map((function(e){return Object(d.jsx)(p.a,{user:e,setShowFollowers:a,children:n.user._id!==e._id&&Object(d.jsx)(b.a,{user:e},e._id)},e._id)})),Object(d.jsx)("div",{className:"close",onClick:function(){return a(!1)},children:"\xd7"})]})})})};var f=function(e){var t=e.users,a=e.setShowFollowing,n=Object(i.c)((function(e){return e})).Auth;return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"follow",children:Object(d.jsxs)("div",{className:"follow_box text-center",children:[Object(d.jsx)("h5",{children:"Following"}),Object(d.jsx)("hr",{}),t.map((function(e){return Object(d.jsx)(p.a,{user:e,setShowFollowing:a,children:n.user._id!==e._id&&Object(d.jsx)(b.a,{user:e},e._id)},e._id)})),Object(d.jsx)("div",{className:"close",onClick:function(){return a(!1)},children:"\xd7"})]})})})};var O=function(e){var t=e.Auth,a=e.Profile,s=e.id,o=e.dispatch,i=Object(r.useState)([]),l=Object(n.a)(i,2),u=l[0],p=l[1],O=Object(r.useState)(!1),h=Object(n.a)(O,2),x=h[0],v=h[1],g=Object(r.useState)(!1),y=Object(n.a)(g,2),N=y[0],w=y[1],k=Object(r.useState)(!1),_=Object(n.a)(k,2),A=_[0],S=_[1];return Object(r.useEffect)((function(){if(s===t.user._id)p([t.user]);else{var e=a.users.filter((function(e){return e._id===s}));p(e)}}),[s,t,a,o]),Object(r.useEffect)((function(){o(N||A||x?{type:"MODAL",payload:!0}:{type:"MODAL",payload:!1})}),[N,A,x,t,o]),Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"info",children:u.map((function(e){return Object(d.jsxs)("div",{className:"info_container",children:[Object(d.jsx)(c.a,{src:e.avatar,size:"super"}),Object(d.jsxs)("div",{className:"info_content",children:[Object(d.jsxs)("div",{className:"info_content_title",children:[Object(d.jsxs)("h2",{children:[e.userName," "]}),e._id===t.user._id?Object(d.jsx)("button",{className:"btn btn-outline-info",onClick:function(){return v(!0)},children:"Edit Profile"}):Object(d.jsx)(b.a,{user:e})]}),Object(d.jsxs)("div",{className:"follow_btn",children:[Object(d.jsxs)("span",{className:"mr-4",onClick:function(){return w(!0)},children:[e.follower.length," Followers "]}),Object(d.jsxs)("span",{className:"ml-4",onClick:function(){return S(!0)},children:[e.following.length," Following"]})]}),Object(d.jsxs)("h6",{className:"m=0",children:[e.fullName," ",Object(d.jsx)("span",{className:"text-danger",children:e.mobile})]}),Object(d.jsx)("p",{className:"m-0",children:e.address}),Object(d.jsx)("h6",{className:"m-0",children:e.email}),Object(d.jsx)("a",{href:e.website,target:"_blank",rel:"noreferrer",children:e.website}),Object(d.jsx)("p",{children:e.story})]}),x&&Object(d.jsx)(j,{setOnEdit:v}),N&&Object(d.jsx)(m,{users:e.follower,setShowFollowers:w}),A&&Object(d.jsx)(f,{users:e.following,setShowFollowing:S})]},e._id)}))})})},h=a(2),x=a.n(h),v=a(6),g=a(36),y=a(26),N=a(8);var w=function(e){var t=e.id,a=e.Profile,c=e.Auth,s=e.dispatch,i=Object(r.useState)({posts:[],result:0,page:2}),l=Object(n.a)(i,2),j=l[0],b=l[1],p=Object(r.useState)(!1),m=Object(n.a)(p,2),f=m[0],O=m[1];Object(r.useEffect)((function(){O(!0),a.userPosts.forEach((function(e){e._id===t&&b(e),O(!1)}))}),[a.userPosts,t]);var h=function(){var e=Object(v.a)(x.a.mark((function e(){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.next=3,Object(N.b)("/user_post/".concat(t,"?limit=").concat(3*j.page,"&page=").concat(j.page),c.token);case 3:a=e.sent,s({type:u.d.UpdateUserPosts,payload:Object(o.a)(Object(o.a)({},a.data),{},{_id:t,page:j.page+1})}),O(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(g.a,{posts:j.posts,result:j.result}),f&&Object(d.jsx)("img",{className:"d-block mx-auto my-4",style:{width:"100px"},src:"https://i.gifer.com/ZZ5H.gif",alt:"loading..."}),Object(d.jsx)(y.a,{page:j.page,result:j.result,load:f,handleLoadMore:h})]})},k=a(13),_=a(7);var A=function(e){var t=e.Auth,a=e.dispatch,c=Object(r.useState)([]),s=Object(n.a)(c,2),o=s[0],i=s[1],l=Object(r.useState)(!1),u=Object(n.a)(l,2),j=u[0],b=u[1],p=Object(r.useState)(2),m=Object(n.a)(p,2),f=m[0],O=m[1],h=Object(r.useState)(2),w=Object(n.a)(h,2),k=w[0],A=w[1];Object(r.useEffect)(Object(v.a)(x.a.mark((function e(){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.prev=1,e.next=4,Object(N.b)("savedPosts",t.token);case 4:n=e.sent,i(n.data.savedPosts),O(n.data.result),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),a({type:_.a.Alert,payload:{err:e.t0.response.data.msg}});case 12:b(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])}))),[t.token,a]);var S=function(){var e=Object(v.a)(x.a.mark((function e(){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.prev=1,e.next=4,Object(N.b)("/savedPosts?limit=".concat(3*k),t.token);case 4:n=e.sent,i(n.data.savedPosts),O(n.data.result),A(k+1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),a({type:_.a.Alert,payload:{err:e.t0.response.data.msg}});case 13:b(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(g.a,{posts:o,result:f}),j&&Object(d.jsx)("img",{className:"d-block mx-auto my-4",style:{width:"100px"},src:"https://i.gifer.com/ZZ5H.gif",alt:"loading..."}),Object(d.jsx)(y.a,{page:k,result:f,load:j,handleLoadMore:S})]})};t.default=function(){var e=Object(k.i)().id,t=Object(i.c)((function(e){return e})),a=t.Auth,c=t.Profile,s=Object(r.useState)(!1),o=Object(n.a)(s,2),l=o[0],j=o[1],b=Object(i.c)((function(e){return e})),p=Object(i.b)();return Object(r.useEffect)((function(){c.ids.every((function(t){return t!==e}))&&p(Object(u.c)({users:c.users,id:e,Auth:a}))}),[c.ids,e,c.users,p,a]),Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"profile",children:[Object(d.jsx)(O,{Auth:a,Profile:c,id:e,dispatch:p}),a.user._id===e&&Object(d.jsxs)("div",{className:"profile_tab",children:[Object(d.jsx)("button",{className:l?"":"active",onClick:function(){j(!1)},children:"Posts"}),Object(d.jsx)("button",{className:l?"active":"",onClick:function(){j(!0)},children:"Saved"})]}),b.Profile.loading?Object(d.jsx)("img",{className:"d-block mx-auto my-4",style:{width:"100px"},src:"https://i.gifer.com/ZZ5H.gif",alt:"loading..."}):l?Object(d.jsx)(A,{Auth:a,dispatch:p}):Object(d.jsx)(w,{Auth:a,Profile:c,id:e,dispatch:p})]})})}},7:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n={Auth:"AUTH",Alert:"ALERT",Theme:"THEME",Status:"STATUS",Modal:"MODAL"}},8:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"d",(function(){return l})),a.d(t,"c",(function(){return u})),a.d(t,"a",(function(){return d}));var n=a(2),r=a.n(n),c=a(6),s=a(37),o=a.n(s),i=function(){var e=Object(c.a)(r.a.mark((function e(t,a){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/".concat(t),{headers:{Authorization:a}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),l=function(){var e=Object(c.a)(r.a.mark((function e(t,a,n){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("/api/".concat(t),a,{headers:{Authorization:n}});case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),u=function(){var e=Object(c.a)(r.a.mark((function e(t,a,n){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.patch("/api/".concat(t),a,{headers:{Authorization:n}});case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(r.a.mark((function e(t,a){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.delete("/api/".concat(t),{headers:{Authorization:a}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},80:function(e,t,a){},85:function(e,t,a){var n={"./discover":57,"./discover.js":57,"./home":45,"./home.js":45,"./login":43,"./login.js":43,"./message":66,"./message.js":66,"./notFound":41,"./notFound.js":41,"./notify":67,"./notify.js":67,"./post/[id]":68,"./post/[id].js":68,"./profile/[id]":69,"./profile/[id].js":69,"./register":44,"./register.js":44};function r(e){var t=c(e);return a(t)}function c(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=c,e.exports=r,r.id=85}},[[108,1,2]]]);
//# sourceMappingURL=main.c11ee2c8.chunk.js.map